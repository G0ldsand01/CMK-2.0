---
import { 
	AlertCircle,
	ArrowLeft,
	HelpCircle,
	Home, 
	Mail,
	ShoppingCart,
	XCircle, 
} from 'lucide-react';
import { Badge } from '@/components/ui/badge';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import Layout from '../layouts/Layout.astro';
---

<Layout title="Order Canceled" navbar={false}>
	<div class="min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-background via-background to-destructive/5">
		<div class="w-full max-w-2xl">
			{/* Cancel Message Card */}
			<Card className="border-2 border-destructive/20 shadow-2xl overflow-hidden">
				<CardHeader className="text-center pb-4">
					<div class="relative mx-auto mb-6">
						{/* Cancel Icon */}
						<div class="relative">
							<div class="relative bg-background border-2 border-destructive rounded-full p-6 flex items-center justify-center">
								<XCircle className="size-16 text-destructive" />
							</div>
						</div>
					</div>
					<CardTitle className="text-4xl font-bold mb-2 text-destructive">
						Payment Canceled
					</CardTitle>
					<CardDescription className="text-lg">
						Your order was not completed
					</CardDescription>
				</CardHeader>
				
				<CardContent className="space-y-6 pt-6">
					{/* Cancel Message */}
					<div class="text-center space-y-3">
						<p class="text-lg text-muted-foreground">
							Your payment was canceled and no charges were made.
						</p>
						<div class="flex items-center justify-center gap-2 text-sm text-muted-foreground">
							<AlertCircle className="size-4" />
							<span>No payment was processed</span>
						</div>
					</div>

					{/* Info Badge */}
					<div class="flex items-center justify-center gap-2">
						<Badge variant="outline" className="px-4 py-2 text-sm border-destructive/20 text-destructive">
							<ShoppingCart className="size-4 mr-2" />
							Your cart items are still saved
						</Badge>
					</div>

					{/* Divider */}
					<div class="border-t border-border"></div>

					{/* Help Section */}
					<div class="space-y-3">
						<h3 class="font-semibold text-lg flex items-center gap-2">
							<HelpCircle className="size-5 text-muted-foreground" />
							Need Help?
						</h3>
						<div class="space-y-2 text-sm text-muted-foreground">
							<div class="flex items-start gap-3">
								<div class="size-6 rounded-full bg-muted flex items-center justify-center shrink-0 mt-0.5">
									<span class="text-foreground font-semibold text-xs">•</span>
								</div>
								<p>If this was a mistake, you can try again from your cart</p>
							</div>
							<div class="flex items-start gap-3">
								<div class="size-6 rounded-full bg-muted flex items-center justify-center shrink-0 mt-0.5">
									<span class="text-foreground font-semibold text-xs">•</span>
								</div>
								<p>Having payment issues? Contact our support team for assistance</p>
							</div>
							<div class="flex items-start gap-3">
								<div class="size-6 rounded-full bg-muted flex items-center justify-center shrink-0 mt-0.5">
									<span class="text-foreground font-semibold text-xs">•</span>
								</div>
								<p>Your items are still in your cart and ready to checkout</p>
							</div>
						</div>
					</div>

					{/* Action Buttons */}
					<div class="flex flex-col sm:flex-row gap-3 pt-4">
						<a href="/cart">
							<Button 
								className="flex-1 gap-2 group w-full"
								size="lg">
								<ShoppingCart className="size-4" />
								Return to Cart
								<ArrowLeft className="size-4 transition-transform group-hover:-translate-x-1" />
							</Button>
						</a>
						<a href="/">
							<Button 
								variant="outline"
								className="flex-1 gap-2 group w-full"
								size="lg">
								<Home className="size-4" />
								Go to Home
							</Button>
						</a>
					</div>

					{/* Support Section */}
					<div class="pt-4 border-t border-border space-y-3">
						<div class="text-center">
							<p class="text-sm text-muted-foreground mb-3">
								Still having trouble? We're here to help!
							</p>
							<div class="flex flex-col sm:flex-row gap-3 justify-center">
								<a href="/contact">
									<Button 
										variant="outline"
										className="gap-2"
										size="sm">
										<Mail className="size-4" />
										Contact Support
									</Button>
								</a>
								<a href="/dashboard/orders">
									<Button 
										variant="ghost"
										className="gap-2"
										size="sm">
										View Orders
									</Button>
								</a>
							</div>
						</div>
					</div>
				</CardContent>
			</Card>

			{/* Additional Message */}
			<div class="mt-6 text-center">
				<p class="text-muted-foreground">
					Questions? <a href="/contact" class="text-primary hover:underline font-medium">Get in touch</a> with our team
				</p>
			</div>
		</div>
	</div>
</Layout>

<style>
	@keyframes pulse {
		0%, 100% {
			opacity: 1;
		}
		50% {
			opacity: .5;
		}
	}

	.animate-pulse {
		animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
	}
</style>
